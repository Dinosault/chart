<form *ngIf="formGroup" [formGroup]="formGroup" (submit)="submit()">
    <ng-container formArrayName="insuredList" *ngFor="let control of formArray.controls; let index = index">
        <fieldset [formGroupName]="index">
            <legend>被保人</legend>
            <p>
                <label [for]="'name-' + index">姓名：</label>
                <input type="text" [id]="'name-' + index" formControlName="name" />
                <span class="error">{{ getErrorMessage("name", index) }}</span>
            </p>
            <p><button type="button" (click)="deleteInsured(index)">刪除</button></p>
        </fieldset>
    </ng-container>
    <p>
        <button type="button" (click)="addInsured()">新增被保險人</button>
        <button type="submit" [disabled]="isFormInvalid">送出</button>
    </p>
</form>